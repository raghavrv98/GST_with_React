(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"1e8b66a715a28bcd56f8":function(e,t,o){"use strict";o.r(t);var a=o("8af190b70a6bc55c6f1b"),r=o.n(a),n=(o("8a2d1b95e05b6a321e74"),o("d7dd51e1bf6bfc2c9c3d")),s=o("0d7f0986bcd2f33d8a2a"),i=o("ab039aecd4a1d4fedc0e"),l=o("a28fc3c963a1d4d1a2e5"),c=o("ab4cb61bcb2dc161defb"),d=o("adc20f99e57c573c589c"),u=o("d95b0cf107403b178365"),g=o("54f683fcda7806277002"),p="app/LoginPage/DEFAULT_ACTION",m=Object(g.fromJS)({});var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;switch((arguments.length>1?arguments[1]:void 0).type){case p:default:return e}},v=function(e){return e.get("loginPage",m)},h=function(){return Object(l.a)(v,function(e){return e.toJS()})},b=regeneratorRuntime.mark(y);function y(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},b,this)}Object(i.defineMessages)({header:{id:"".concat("app.containers.LoginPage",".header"),defaultMessage:"This is the LoginPage container!"}});var S,w=o("bd183afcc37eabd79225"),N=o.n(w),O=o("7e06b3d41be6bf0b9866");function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t,o,a){S||(S="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={children:void 0}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===n)t.children=a;else if(n>1){for(var i=new Array(n),l=0;l<n;l++)i[l]=arguments[l+3];t.children=i}return{$$typeof:S,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function C(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,"LoginPage",function(){return F});var x=P(s.Helmet,{},void 0,P("title",{},void 0,"Login Page"),P("meta",{name:"description",content:"Description of HomePage"})),J=P("p",{className:"sub-heading-r"},void 0,"Easy to handle, Easy to use"),H=P("div",{className:"lds-roller"},void 0,P("div",{}),P("div",{}),P("div",{}),P("div",{}),P("div",{}),P("div",{}),P("div",{}),P("div",{})),_=P("p",{className:"forgot-title-r"},void 0,"Forgot Password"),A=P("p",{className:"forgot-msg-r"},void 0,"You will receive an e-mail along with your password."),U=P("span",{},void 0,P("button",{type:"submit",className:"button-base-r width-40-r button-margin-top"},void 0,"Send")),M=P("p",{className:"login-title-r"},void 0,"Login"),R=P("span",{},void 0,P("button",{className:"button-base-r width-40-r"},void 0,"Login")),F=function(e){function t(){var e,o,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return a=this,r=(e=L(t)).call.apply(e,[this].concat(s)),o=!r||"object"!==I(r)&&"function"!==typeof r?j(a):r,E(j(j(o)),"state",{payload:{emailId:"",password:"",username:""},isResetActive:!1,loginError:!1,isLoading:!1,forgotMessageSuccessCheck:!1,forgotLoginError:!1}),E(j(j(o)),"loginSubmitHandler",function(){event.preventDefault(),o.setState({isLoading:!0});var e=JSON.parse(JSON.stringify(o.state.payload));e.username=e.username.toUpperCase();var t=window.API_URL+"/login";N.a.post(t,e).then(function(e){var t=e.data.data;localStorage.setItem("role",t.role),localStorage.setItem("emailId",t.emailId),localStorage.setItem("userId",t._id),"user"===t.role?(localStorage.setItem("legalName",t.legalName),o.props.history.push("/user")):"accountant"===t.role?(localStorage.setItem("firstName",t.firstName),localStorage.setItem("middleName",t.middleName),localStorage.setItem("lastName",t.lastName),o.props.history.push("/manageUser")):"admin"===t.role&&(localStorage.setItem("name",t.name),o.props.history.push("/admin"))}).catch(function(e){var t=Object(O.b)(e);o.setState({loginError:!0,isLoading:!1,message:t})})}),E(j(j(o)),"forgotPasswordHandler",function(){event.preventDefault(),o.setState({isLoading:!0});var e=JSON.parse(JSON.stringify(o.state.payload));e.username=e.username.toUpperCase(),e.emailId=e.emailId.toUpperCase();var t=window.API_URL+"/forgotPassword";N.a.post(t,e).then(function(t){t.data.data;e.emailId="",e.password="",e.username="",o.setState({message:t.data.message,isLoading:!1,payload:e,forgotMessageSuccessCheck:!0})}).catch(function(e){var t=Object(O.b)(e);o.setState({forgotLoginError:!0,isLoading:!1,message:t})})}),E(j(j(o)),"nameChangeHandler",function(e){var t=JSON.parse(JSON.stringify(o.state.payload));t[e.target.id]=e.target.value,o.setState({payload:t,loginError:!1,forgotMessageSuccessCheck:!1,forgotLoginError:!1})}),E(j(j(o)),"forgotPassword",function(){var e=JSON.parse(JSON.stringify(o.state.isResetActive)),t=JSON.parse(JSON.stringify(o.state.payload));e=!e,t.emailId="",t.password="",t.username="",o.setState({isResetActive:e,payload:t,loginError:!1,forgotMessageSuccessCheck:!1,forgotLoginError:!1})}),E(j(j(o)),"contactHandler",function(){o.props.history.push("/contact")}),o}var a,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r.a.Component),a=t,(n=[{key:"componentWillMount",value:function(){"user"===localStorage.getItem("role")?this.props.history.push("/user"):"accountant"===localStorage.getItem("role")?this.props.history.push("/manageUser"):"admin"===localStorage.getItem("role")&&this.props.history.push("/admin")}},{key:"render",value:function(){return P("div",{},void 0,x,P("div",{className:"loginBackgroundImage-r"},void 0,P("div",{className:"loginLayout-r"},void 0,P("div",{className:"container outer-box-r"},void 0,P("div",{className:"col-xs-12 col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 vertical-align-title-r"},void 0,P("img",{className:"logo-heading-r",src:o("b64d871fc84f55650602")}),J,P("div",{className:"text-align-center-r"},void 0,P("button",{type:"button",onClick:this.contactHandler,className:"button-base-r width-30-r width-40-r"},void 0,"Get in touch"))),P("div",{className:"col-xs-12 col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 vertical-align-login-r"},void 0,P("div",{className:"login-box"},void 0,P("div",{className:"modal-body,input-group input-group-lg universal-center-r reset-form-padding-r"},void 0,this.state.isLoading?H:P(r.a.Fragment,{},void 0,this.state.isResetActive?P(r.a.Fragment,{},void 0,_,this.state.forgotMessageSuccessCheck?P("p",{className:"error-msg-login-r"},void 0,this.state.message):null,P("form",{onSubmit:this.forgotPasswordHandler},void 0,this.state.forgotMessageSuccessCheck?null:A,P("input",{type:"text",value:this.state.payload.username,onChange:this.nameChangeHandler,id:"username",className:"form-control reset-input-box-r",placeholder:"Username or GSTIN",required:!0,autoFocus:!0}),P("input",{type:"email",value:this.state.payload.emailId,onChange:this.nameChangeHandler,id:"emailId",className:"form-control forgot-input-box-r",placeholder:"Email-Id",required:!0}),this.state.forgotLoginError?P("p",{className:"error-msg-forgot-r"},void 0,this.state.message):null,U),P("p",{className:"forgot-password-r",onClick:this.forgotPassword},void 0,"Get back to login")):P(r.a.Fragment,{},void 0,M,P("form",{onSubmit:this.loginSubmitHandler},void 0,P("input",{type:"text",value:this.state.payload.username,onChange:this.nameChangeHandler,id:"username",className:"form-control reset-input-box-r",placeholder:"Username or GSTIN",required:!0,autoFocus:!0}),P("input",{type:"password",value:this.state.payload.password,onChange:this.nameChangeHandler,id:"password",minLength:"4",className:"form-control reset-input-box-r",placeholder:"Password",required:!0}),this.state.loginError?P("p",{className:"error-msg-r"},void 0,this.state.message):null,R),P("p",{className:"forgot-password-r",onClick:this.forgotPassword},void 0,"Forgot Password ?"))))))))))}}])&&C(a.prototype,n),s&&C(a,s),t}(),T=Object(l.b)({loginPage:h()});var q=Object(n.connect)(T,function(e){return{dispatch:e}}),D=Object(u.a)({key:"loginPage",reducer:f}),G=Object(d.a)({key:"loginPage",saga:y});t.default=Object(c.compose)(D,G,q)(F)}}]);