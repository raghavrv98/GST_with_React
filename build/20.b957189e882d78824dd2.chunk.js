(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"53933e698c0e5594e4bb":function(e,t,a){"use strict";a.r(t);var o=a("8af190b70a6bc55c6f1b"),n=a.n(o),i=(a("8a2d1b95e05b6a321e74"),a("d7dd51e1bf6bfc2c9c3d")),s=a("0d7f0986bcd2f33d8a2a"),r=a("ab039aecd4a1d4fedc0e"),l=a("a28fc3c963a1d4d1a2e5"),c=a("ab4cb61bcb2dc161defb"),d=a("adc20f99e57c573c589c"),u=a("d95b0cf107403b178365"),m=a("54f683fcda7806277002"),p="app/ManageUser/DEFAULT_ACTION",f=Object(m.fromJS)({});var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;switch((arguments.length>1?arguments[1]:void 0).type){case p:default:return e}},h=function(e){return e.get("manageUser",f)},b=function(){return Object(l.a)(h,function(e){return e.toJS()})},y=regeneratorRuntime.mark(g);function g(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},y,this)}Object(r.defineMessages)({header:{id:"".concat("app.containers.ManageUser",".header"),defaultMessage:"This is the ManageUser container!"}});var C,N=a("6e1a5b1a9427ffe7ff17"),w=a("bd183afcc37eabd79225"),T=a.n(w),O=a("4cad7676f6ad23a52c95"),H=a("868115dbc0cccbfa5202"),S=a("b13fad99b312e52ff2bb"),k=a("7e06b3d41be6bf0b9866");function U(e){return(U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}function x(e,t,a,o){C||(C="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&n)for(var s in n)void 0===t[s]&&(t[s]=n[s]);else t||(t=n||{});if(1===i)t.children=o;else if(i>1){for(var r=new Array(i),l=0;l<i;l++)r[l]=arguments[l+3];t.children=r}return{$$typeof:C,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function I(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"ManageUser",function(){return fe});var F=x("i",{className:"far fa-edit"}),P=x(N.a,{id:"edit",type:"dark"},void 0,x("div",{className:"tooltipText"},void 0,x("p",{},void 0,"Edit"))),E=x("i",{className:"far fa-trash-alt"}),R=x(N.a,{id:"delete",type:"dark"},void 0,x("div",{className:"tooltipText"},void 0,x("p",{},void 0,"Delete"))),B=x(s.Helmet,{},void 0,x("title",{},void 0,"ManageUser"),x("meta",{name:"description",content:"Description of ManageUser"})),J=x("div",{},void 0,x("ul",{className:"breadCrumb-bg-r"},void 0,x("li",{className:"breadCrumb-li-r"},void 0,x("i",{className:"fa fa-home","aria-hidden":"true"}),x("span",{className:"breadcrumb-text-r"},void 0,"Home")))),L=x("option",{disabled:!0,value:"0"},void 0,"Select Year"),Y=x("option",{value:"2020"},void 0,"2020-2021"),$=x("option",{value:"2019"},void 0,"2019-2020"),z=x("option",{value:"2018"},void 0,"2018-2019"),V=x("option",{value:"2017"},void 0,"2017-2018"),W=x("option",{disabled:!0,value:"0"},void 0,"Select Month"),q=x("option",{value:"4"},void 0,"April"),G=x("option",{value:"5"},void 0,"May"),K=x("option",{value:"6"},void 0,"June"),Q=x("option",{value:"7"},void 0,"July"),X=x("option",{value:"8"},void 0,"August"),Z=x("option",{value:"9"},void 0,"September"),ee=x("option",{value:"10"},void 0,"October"),te=x("option",{value:"11"},void 0,"November"),ae=x("option",{value:"12"},void 0,"December"),oe=x("option",{value:"1"},void 0,"January"),ne=x("option",{value:"2"},void 0,"February"),ie=x("option",{value:"3"},void 0,"March"),se=x("option",{disabled:!0,value:"0"},void 0,"Select User"),re=x("option",{value:"all"},void 0,"All Users"),le=x("option",{value:"withData"},void 0,"User with Data"),ce=x("option",{value:"withoutData"},void 0,"User without Data"),de=x("option",{value:"inActive"},void 0,"InActive"),ue=x("option",{value:"active"},void 0,"Active"),me=x("i",{className:"fas fa-angle-left"}),pe=x("i",{className:"fas fa-angle-right"}),fe=function(e){function t(){var e,a,o,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return o=this,n=(e=j(t)).call.apply(e,[this].concat(s)),a=!n||"object"!==U(n)&&"function"!==typeof n?M(o):n,A(M(M(a)),"state",{showHideClassName:"modal display-none container",month:4,year:2020,userType:"withData",isFetching:!0,isOpenClassName:"modal display-none container",showHideClassNameDelete:"modal display-none container"}),A(M(M(a)),"getUser",function(e,t,o,n){var i=window.API_URL+"/users/".concat(e,"/").concat(t,"/").concat(o,"/").concat(n);T.a.get(i).then(function(e){var t=e.data.data;a.setState({users:t,isFetching:!1})}).catch(function(e){var t=Object(k.b)(e);a.setState({message:t,isOpenClassName:"modal display-block container",type:"failure"},function(){return setTimeout(a.modalTime,1500)})})}),A(M(M(a)),"statusUpdate",function(e,t){a.setState({showHideClassName:"modal display-none container",isFetching:!0});var o=window.API_URL+"/changeStatus/".concat(e);T.a.put(o,{status:t,year:a.state.year,month:a.state.month}).then(function(e){e.data.data;a.setState({message:e.data.message,isFetching:!0},function(){return a.getUser(a.state.accountantId,a.state.month,a.state.year,a.state.userType)})}).catch(function(e){var t=Object(k.b)(e);a.setState({message:t,isOpenClassName:"modal display-block container",type:"failure"},function(){return setTimeout(a.modalTime,1500)})})}),A(M(M(a)),"modalTime",function(){a.setState({isOpenClassName:"modal display-none container",isFetching:!1})}),A(M(M(a)),"nameChangeHandler",function(e){var t=a.state.year,o=a.state.month,n=a.state.userType,i=e.target.id;"year"===i?t=e.target.value:"month"===i?o=e.target.value:"userType"===i&&(n=e.target.value),a.setState({year:t,month:o,userType:n,isFetching:!0},function(){return a.getUser(a.state.accountantId,a.state.month,a.state.year,a.state.userType)})}),A(M(M(a)),"statusBoxHandler",function(e,t){var o=e.target.id,n=e.target.checked;a.setState({statusBoxIndex:o,status:n,billId:t,showHideClassName:"modal display-block container"})}),A(M(M(a)),"confirmDeleteData",function(e){event.preventDefault(),a.deleteUsers(e),a.setState({showHideClassNameDelete:"modal display-none container",isFetching:!0})}),A(M(M(a)),"confirmModalHandler",function(e){a.setState({showHideClassNameDelete:"modal display-block container",deleteId:e})}),A(M(M(a)),"deleteUsers",function(e){var t=window.API_URL+"/user/".concat(e);T.a.delete(t).then(function(e){e.data.data;a.setState({message:e.data.message,isFetching:!1,type:"success",isOpenClassName:"modal display-block container"},function(){return a.getUser(a.state.accountantId,a.state.month,a.state.year,a.state.userType,setTimeout(a.modalTime,1500))})}).catch(function(e){var t=Object(k.b)(e);a.setState({message:t,isFetching:!1,isOpenClassName:"modal display-block container",type:"failure"},function(){return setTimeout(a.modalTime,1500)})})}),A(M(M(a)),"modalCloseHandler",function(){a.setState({isResetModal:!1,showHideClassName:"modal display-none container",fullViewModalClassName:"modal display-none container",showHideClassNameDelete:"modal display-none container",deleteId:"",deleteName:"",isOpenClassName:"modal display-none container",cardLoader:!1})}),a}var a,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.a.Component),a=t,(o=[{key:"componentWillMount",value:function(){var e=localStorage.getItem("userId");this.getUser(e,this.state.month,this.state.year,this.state.userType),this.setState({accountantId:e})}},{key:"render",value:function(){var e=this,t=[{Header:"Created At",accessor:"timestamp",width:200,Cell:function(t){return x("div",{className:"onClick-cell-r",onClick:function(){e.props.history.push("/userDetails/".concat(t.original._id,"/").concat(e.state.month,"/").concat(e.state.year))}},void 0,Object(O.a)(t.original.timestamp).format("DD MMM YYYY HH:mm"))}},{Header:"Client Id",accessor:"clientId",width:150,filterable:!0,Cell:function(t){return x("div",{className:"onClick-cell-r",onClick:function(){e.props.history.push("/userDetails/".concat(t.original._id,"/").concat(e.state.month,"/").concat(e.state.year))}},void 0,t.original.clientId)}},{Header:"Legal Name",accessor:"legalName",filterable:!0,Cell:function(t){return x("div",{className:"onClick-cell-r",onClick:function(){e.props.history.push("/userDetails/".concat(t.original._id,"/").concat(e.state.month,"/").concat(e.state.year))}},void 0,t.original.legalName)}},{Header:"Trade Name",accessor:"tradeName",filterable:!0,Cell:function(t){return x("div",{className:"onClick-cell-r",onClick:function(){e.props.history.push("/userDetails/".concat(t.original._id,"/").concat(e.state.month,"/").concat(e.state.year))}},void 0,t.original.tradeName)}},{Header:"Status",accessor:"status",width:100,Cell:function(t){return x("div",{},void 0,x("input",{id:t.original._id,onChange:function(){return e.statusBoxHandler(event,t.original._id)},disabled:"all"===e.state.userType||"active"===e.state.userType||"inActive"===e.state.userType,checked:t.original.status,className:"status-button-r",type:"checkbox"}))}},{Header:"Actions",sortable:!1,width:150,Cell:function(t){return x("div",{},void 0,x("span",{className:"editButton-r","data-tip":!0,"data-for":"edit",onClick:function(){return e.props.history.push("/addOrEditUser/"+t.original._id)}},void 0,F,P),x("span",{className:"deleteButton-r","data-tip":!0,"data-for":"delete",onClick:function(){return e.confirmModalHandler(t.original._id)}},void 0,E,R))}}];return x("div",{},void 0,B,x(S.a,{showHideClassName:this.state.isOpenClassName,modalType:this.state.type,message:this.state.message,onClose:this.modalCloseHandler}),x("div",{className:"container outer-box-r"},void 0,J,x("div",{className:"container filter-year-month-r"},void 0,x("div",{className:"row"},void 0,x("div",{className:"col-xs-4 col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},void 0,x("select",{id:"year",disabled:"all"===this.state.userType||"active"===this.state.userType||"inActive"===this.state.userType,onChange:this.nameChangeHandler,value:this.state.year,className:"year-month-border-r",name:"lectureId"},void 0,L,Y,$,z,V)),x("div",{className:"col-xs-4 col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},void 0,x("select",{id:"month",disabled:"all"===this.state.userType||"active"===this.state.userType||"inActive"===this.state.userType,onChange:this.nameChangeHandler,value:this.state.month,className:"year-month-border-r",name:"lectureId"},void 0,W,q,G,K,Q,X,Z,ee,te,ae,oe,ne,ie)),x("div",{className:"col-xs-4 col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},void 0,x("select",{id:"userType",onChange:this.nameChangeHandler,value:this.state.userType,className:"year-month-border-r",name:"lectureId"},void 0,se,re,le,ce,de,ue)))),x("div",{className:"container"},void 0,x("button",{type:"button",onClick:function(){e.props.history.push("/addOrEditUser")},className:"button-base-r newEntry-r"},void 0,"New User")),x("div",{className:"container"},void 0,x("div",{className:"customReactTableBox"},void 0,x(ReactTable,{className:"customReactTable",data:this.state.users,columns:t,defaultPageSize:5,noDataText:this.state.isFetching?"":"There is no data to display.",loading:this.state.isFetching,loadingText:"Loading ...",PreviousComponent:function(e){return n.a.createElement("button",D({type:"button"},e),me)},NextComponent:function(e){return n.a.createElement("button",D({type:"button"},e),pe)}})))),x(H.a,{showHideClassName:this.state.showHideClassName,onClose:this.modalCloseHandler,onConfirm:function(){return e.statusUpdate(e.state.statusBoxIndex,e.state.status)},confirmMessage:"Are you sure want to update ?"}),x(H.a,{showHideClassName:this.state.showHideClassNameDelete,onClose:this.modalCloseHandler,onConfirm:function(){return e.confirmDeleteData(e.state.deleteId)}}))}}])&&I(a.prototype,o),i&&I(a,i),t}(),ve=Object(l.b)({manageUser:b()});var he=Object(i.connect)(ve,function(e){return{dispatch:e}}),be=Object(u.a)({key:"manageUser",reducer:v}),ye=Object(d.a)({key:"manageUser",saga:g});t.default=Object(c.compose)(be,ye,he)(fe)}}]);