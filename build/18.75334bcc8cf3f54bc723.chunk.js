(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{e4a72035e07b89ab7000:function(e,a,t){"use strict";t.r(a);var o=t("8af190b70a6bc55c6f1b"),s=t.n(o),r=(t("8a2d1b95e05b6a321e74"),t("d7dd51e1bf6bfc2c9c3d")),n=t("0d7f0986bcd2f33d8a2a"),i=t("ab039aecd4a1d4fedc0e"),c=t("a28fc3c963a1d4d1a2e5"),l=t("ab4cb61bcb2dc161defb"),d=t("adc20f99e57c573c589c"),m=t("d95b0cf107403b178365"),p=t("54f683fcda7806277002"),u="app/ManageUserReports/DEFAULT_ACTION",f=Object(p.fromJS)({});var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;switch((arguments.length>1?arguments[1]:void 0).type){case u:default:return e}},b=function(e){return e.get("manageUserReports",f)},v=function(){return Object(c.a)(b,function(e){return e.toJS()})},h=regeneratorRuntime.mark(y);function y(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},h,this)}Object(i.defineMessages)({header:{id:"".concat("app.containers.ManageUserReports",".header"),defaultMessage:"This is the ManageUserReports container!"}});var N,w=t("868115dbc0cccbfa5202"),R=t("4cad7676f6ad23a52c95"),C=t("bd183afcc37eabd79225"),O=t.n(C),M=t("b13fad99b312e52ff2bb"),S=t("7e06b3d41be6bf0b9866");function _(e){return(_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,a,t,o){N||(N="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var s=e&&e.defaultProps,r=arguments.length-3;if(a||0===r||(a={children:void 0}),a&&s)for(var n in s)void 0===a[n]&&(a[n]=s[n]);else a||(a=s||{});if(1===r)a.children=o;else if(r>1){for(var i=new Array(r),c=0;c<r;c++)i[c]=arguments[c+3];a.children=i}return{$$typeof:N,type:e,key:void 0===t?null:""+t,ref:null,props:a,_owner:null}}function j(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,a){return(x=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,"ManageUserReports",function(){return B});var U=I(n.Helmet,{},void 0,I("title",{},void 0,"ManageUserReports"),I("meta",{name:"description",content:"Description of ManageUserReports"})),T=I("div",{className:"lds-facebook"},void 0,I("div",{}),I("div",{}),I("div",{}),I("span",{className:"loading-text-r"},void 0,"Loading... ")),D=I("i",{className:"fa fa-home","aria-hidden":"true"}),H=I("span",{className:"breadcrumb-text-r"},void 0,"Home"),P=I("li",{className:"breadCrumb-li-child-r"},void 0,I("i",{className:"fa fa-files-o","aria-hidden":"true"}),I("span",{className:"breadcrumb-text-r"},void 0,"Reports")),Y=I("p",{className:"static-title-r"},void 0,"Daily Reports"),E=I("p",{className:"static-title-r"},void 0,"GST Reports"),G=I("p",{className:"static-title-r"},void 0,"Faulty Bills"),B=function(e){function a(){var e,t,o,s;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return o=this,s=(e=k(a)).call.apply(e,[this].concat(n)),t=!s||"object"!==_(s)&&"function"!==typeof s?A(o):s,L(A(A(t)),"state",{showHideClassName:"modal display-none container",getReports:{},isLoading:!0,isOpenClassName:"modal display-none container"}),L(A(A(t)),"getReports",function(e,a,o){var s=window.API_URL+"/report/".concat(e,"/").concat(a,"/").concat(o);O.a.get(s).then(function(e){var a=e.data.data;t.setState({getReports:a,isLoading:!1})}).catch(function(e){var a=Object(S.b)(e);t.setState({message:a,isOpenClassName:"modal display-block container",isLoading:!1})},function(){return setTimeout(t.modalTime,1500)})}),L(A(A(t)),"deleteReports",function(e,a,o){if("faulty"===o){var s=window.API_URL+"/bill/".concat(e,"/").concat(a,"/").concat(o);O.a.delete(s).then(function(e){e.data.data;t.setState({message:e.data.message,isLoading:!1,type:"success",isOpenClassName:"modal display-block container"},function(){return t.getReports(localStorage.getItem("userId"),t.props.match.params.month,t.props.match.params.year)},setTimeout(t.modalTime,1500))}).catch(function(e){var a=Object(S.b)(e);t.setState({message:a,isOpenClassName:"modal display-block container",isLoading:!1})},function(){return setTimeout(t.modalTime,1500)})}else{var r=window.API_URL+"/report/".concat(e,"/").concat(a,"/").concat(o);O.a.delete(r).then(function(e){e.data.data;t.setState({message:e.data.message,isLoading:!1,type:"success",isOpenClassName:"modal display-block container"},function(){return t.getReports(localStorage.getItem("userId"),t.props.match.params.month,t.props.match.params.year)},setTimeout(t.modalTime,1500))}).catch(function(e){var a=Object(S.b)(e);t.setState({message:a,isOpenClassName:"modal display-block container",isLoading:!1})},function(){return setTimeout(t.modalTime,1500)})}}),L(A(A(t)),"modalTime",function(){t.setState({isOpenClassName:"modal display-none container"})}),L(A(A(t)),"confirmModalHandler",function(e){var a=e.target.id,o=e.target.name;t.setState({showHideClassName:"modal display-block container",deleteId:a,deleteName:o})}),L(A(A(t)),"modalCloseHandler",function(){t.setState({isResetModal:!1,showHideClassName:"modal display-none container",deleteId:"",deleteName:"",isOpenClassName:"modal display-none container"})}),L(A(A(t)),"confirmDeleteData",function(e,a){event.preventDefault(),t.deleteReports(localStorage.getItem("userId"),e,a),t.setState({showHideClassName:"modal display-none container",isLoading:!0})}),L(A(A(t)),"downloadSample",function(e,a){var t=document.createElement("a");t.href=window.API_URL_IMAGE+"/bills/"+e,document.body.appendChild(t),t.download=a,t.click(),document.body.removeChild(t)}),t}var o,r,n;return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&x(e,a)}(a,s.a.Component),o=a,(r=[{key:"componentWillMount",value:function(){this.getReports(localStorage.getItem("userId"),this.props.match.params.month,this.props.match.params.year)}},{key:"render",value:function(){var e=this;return I("div",{},void 0,U,I(w.a,{showHideClassName:this.state.showHideClassName,onClose:this.modalCloseHandler,onConfirm:function(){return e.confirmDeleteData(e.state.deleteId,e.state.deleteName)}}),I(M.a,{showHideClassName:this.state.isOpenClassName,modalType:this.state.type,message:this.state.message,onClose:this.modalCloseHandler}),this.state.isLoading?T:I("div",{className:"container outer-box-r"},void 0,I("div",{},void 0,I("ul",{className:"breadCrumb-bg-r"},void 0,I("li",{onClick:function(){return e.props.history.push("/user")},className:"breadCrumb-li-child-1-r"},void 0,D,H),P)),I("div",{className:"col-xs-12 col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},void 0,Y,I("div",{className:"report-card-scroll"},void 0,I("div",{className:"text-align-center-r"},void 0,this.state.getReports.dailyReports&&this.state.getReports.dailyReports.length>0?this.state.getReports.dailyReports&&this.state.getReports.dailyReports.map(function(a,t){return I(s.a.Fragment,{},t,I("div",{className:"card-report-r"},void 0,I("span",{className:"delete-report-icon-r"},void 0,I("button",{name:"daily",id:a._id,onClick:e.confirmModalHandler,className:"fa fa-times-circle"})),I("span",{className:"download-report-icon-r"},void 0,I("a",{download:a.originalName,href:window.API_URL_IMAGE+"/daily-reports/"+a.img,className:"fa fa-download"})),I("img",{className:"selected-report-image-r",src:window.API_URL_IMAGE+"/daily-reports/"+a.img}),I("p",{className:"card-selected-heading-r"},void 0,a.originalName),I("p",{className:"card-selected-sub-heading-r"},void 0,"Report Date : ",Object(S.a)(a.reportDate)),I("p",{className:"card-selected-sub-heading-r"},void 0,"Created At : ",Object(R.a)(a.timestamp).format("DD MMM YYYY")),I("p",{className:"card-text-r"},void 0,a.comment)))}):I("img",{className:"nodata-box-daily-img1-r",src:t("8de7e6c44efb005a1063")})))),I("div",{className:"col-xs-12 col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},void 0,E,I("div",{className:"report-card-scroll"},void 0,I("div",{className:"text-align-center-r"},void 0,this.state.getReports.gstReports&&this.state.getReports.gstReports.length>0?this.state.getReports.gstReports&&this.state.getReports.gstReports.map(function(a,t){return I(s.a.Fragment,{},t,I("div",{className:"card-report-r"},void 0,I("span",{className:"delete-report-icon-r"},void 0,I("button",{name:"gst",id:a._id,onClick:e.confirmModalHandler,className:"fa fa-times-circle"})),I("span",{className:"download-report-icon-r"},void 0,I("a",{download:a.originalName,href:window.API_URL_IMAGE+"/gst-reports/"+a.img,className:"fa fa-download"})),I("img",{className:"selected-report-image-r",src:window.API_URL_IMAGE+"/gst-reports/"+a.img}),I("p",{className:"card-selected-heading-r"},void 0,a.originalName),I("p",{className:"card-selected-sub-heading-r"},void 0,"Created At : ",Object(R.a)(a.timestamp).format("DD MMM YYYY")),I("p",{className:"card-text-r"},void 0,a.comment)))}):I("img",{className:"nodata-box-img1-r",src:t("8de7e6c44efb005a1063")})))),I("div",{className:"col-xs-12 col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},void 0,G,I("div",{className:"report-card-scroll"},void 0,I("div",{className:"text-align-center-r"},void 0,this.state.getReports.faultyBills&&this.state.getReports.faultyBills.length>0?this.state.getReports.faultyBills&&this.state.getReports.faultyBills.map(function(a,t){return I(s.a.Fragment,{},t,I("div",{className:"card-report-r"},void 0,I("span",{style:{display:"none"},className:"delete-report-icon-r"},void 0,I("button",{name:"faulty",id:a._id,onClick:e.confirmModalHandler,className:"fa fa-times-circle"})),I("span",{style:{left:"-70px"},className:"download-report-icon-r"},void 0,I("button",{type:"button",className:"fa fa-download",onClick:function(){return e.downloadSample(a.img,a.originalName)}})),I("img",{className:"selected-report-image-r",src:window.API_URL_IMAGE+"/bills/"+a.img}),I("p",{className:"card-selected-heading-r"},void 0,a.originalName),I("p",{className:"card-selected-sub-heading-r"},void 0,"Created At : ",Object(R.a)(a.timestamp).format("DD MMM YYYY")),I("p",{className:"card-text-r"},void 0,a.comment)))}):I("img",{className:"nodata-box-img1-r",src:t("8de7e6c44efb005a1063")}))))))}}])&&j(o.prototype,r),n&&j(o,n),a}(),F=Object(c.b)({manageUserReports:v()});var J=Object(r.connect)(F,function(e){return{dispatch:e}}),$=Object(m.a)({key:"manageUserReports",reducer:g}),W=Object(d.a)({key:"manageUserReports",saga:y});a.default=Object(l.compose)($,W,J)(B)}}]);