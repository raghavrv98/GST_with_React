(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"0067b2c416394ec0e418":function(e,a,t){"use strict";t.r(a);var i=t("8af190b70a6bc55c6f1b"),o=t.n(i),r=(t("8a2d1b95e05b6a321e74"),t("d7dd51e1bf6bfc2c9c3d")),s=t("0d7f0986bcd2f33d8a2a"),n=t("ab039aecd4a1d4fedc0e"),l=t("a28fc3c963a1d4d1a2e5"),c=t("ab4cb61bcb2dc161defb"),d=t("adc20f99e57c573c589c"),m=t("d95b0cf107403b178365"),u=t("54f683fcda7806277002"),p="app/UserBillDetails/DEFAULT_ACTION",f=Object(u.fromJS)({});var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;switch((arguments.length>1?arguments[1]:void 0).type){case p:default:return e}},v=function(e){return e.get("userBillDetails",f)},h=function(){return Object(l.a)(v,function(e){return e.toJS()})},g=regeneratorRuntime.mark(N);function N(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},g,this)}Object(n.defineMessages)({header:{id:"".concat("app.containers.UserBillDetails",".header"),defaultMessage:"This is the UserBillDetails container!"}});var y,w=t("868115dbc0cccbfa5202"),C=t("b13fad99b312e52ff2bb"),A=t("bd183afcc37eabd79225"),B=t.n(A),k=t("4cad7676f6ad23a52c95"),S=t("7e06b3d41be6bf0b9866");function O(e){return(O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,a,t,i){y||(y="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,r=arguments.length-3;if(a||0===r||(a={children:void 0}),a&&o)for(var s in o)void 0===a[s]&&(a[s]=o[s]);else a||(a=o||{});if(1===r)a.children=i;else if(r>1){for(var n=new Array(r),l=0;l<r;l++)n[l]=arguments[l+3];a.children=n}return{$$typeof:y,type:e,key:void 0===t?null:""+t,ref:null,props:a,_owner:null}}function T(e,a){for(var t=0;t<a.length;t++){var i=a[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,a){return(M=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,"UserBillDetails",function(){return ae});var R=x(s.Helmet,{},void 0,x("title",{},void 0,"UserBillDetails"),x("meta",{name:"description",content:"Description of UserBillDetails"})),D=x("span",{className:"text-color-white-r"},void 0,"Bill Full View"),H=x("i",{className:"fa fa-times","aria-hidden":"true"}),V=x("div",{className:"lds-facebook"},void 0,x("div",{}),x("div",{}),x("div",{}),x("span",{className:"loading-text-r"},void 0,"Loading... ")),P=x("i",{className:"fa fa-home","aria-hidden":"true"}),U=x("span",{className:"breadcrumb-text-r"},void 0,"Home"),_=x("i",{className:"fa fa-files-o","aria-hidden":"true"}),Y=x("span",{className:"breadcrumb-text-r"},void 0,"User Details"),z=x("i",{className:"fa fa-files-o","aria-hidden":"true"}),q=x("p",{className:"static-title-r"},void 0,"Purchase Bills"),F=x("button",{type:"button",className:"card-drop-down-r"},void 0,x("i",{className:"fa fa-ellipsis-v","aria-hidden":"true"})),Q=x("div",{className:"lds-ring"},void 0,x("div",{}),x("div",{}),x("div",{}),x("div",{})),Z=x("p",{className:"card-error-msg-r"},void 0,"Comment Required"),E=x("p",{className:"static-title-r"},void 0,"Sale Bills"),J=x("button",{type:"button",className:"card-drop-down-r"},void 0,x("i",{className:"fa fa-ellipsis-v","aria-hidden":"true"})),G=x("div",{className:"lds-ring"},void 0,x("div",{}),x("div",{}),x("div",{}),x("div",{})),K=x("p",{className:"card-error-msg-r"},void 0,"Comment Required"),W=x("p",{className:"static-title-r"},void 0,"Other Bills"),X=x("button",{type:"button",className:"card-drop-down-r"},void 0,x("i",{className:"fa fa-ellipsis-v","aria-hidden":"true"})),$=x("div",{className:"lds-ring"},void 0,x("div",{}),x("div",{}),x("div",{}),x("div",{})),ee=x("p",{className:"card-error-msg-r"},void 0,"Comment Required"),ae=function(e){function a(){var e,t,i,o;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return i=this,o=(e=L(a)).call.apply(e,[this].concat(s)),t=!o||"object"!==O(o)&&"function"!==typeof o?I(i):o,j(I(I(t)),"state",{showHideClassName:"modal display-none container",statusBoxArray:[],fullViewModalClassName:"modal display-none container",isOpenClassName:"modal display-none container",isLoading:!0,getBill:[],commentAlert:!1,billId:"",cardLoader:!1}),j(I(I(t)),"getBill",function(e,a,i,o,r){if("purchase"===o){var s=window.API_URL+"/purchase/".concat(e,"/").concat(a,"/").concat(i,"/").concat(r);B.a.get(s).then(function(e){var a=e.data.data;t.setState({getBill:a,isLoading:!1})}).catch(function(e){var a=Object(S.a)(e);t.setState({message:a,isOpenClassName:"modal display-block container",type:"failure",isLoading:!1,cardLoader:!1},function(){return setTimeout(t.modalTime,1500)})})}else if("sale"===o){var n=window.API_URL+"/sale/".concat(e,"/").concat(a,"/").concat(i,"/").concat(r);B.a.get(n).then(function(e){var a=e.data.data;t.setState({getBill:a,isLoading:!1})}).catch(function(e){var a=Object(S.a)(e);t.setState({message:a,isOpenClassName:"modal display-block container",type:"failure",isLoading:!1,cardLoader:!1},function(){return setTimeout(t.modalTime,1500)})})}else{var l=window.API_URL+"/other/".concat(e,"/").concat(a,"/").concat(i,"/").concat(r);B.a.get(l).then(function(e){var a=e.data.data;t.setState({getBill:a,isLoading:!1})}).catch(function(e){var a=Object(S.a)(e);t.setState({message:a,isOpenClassName:"modal display-block container",type:"failure",isLoading:!1,cardLoader:!1},function(){return setTimeout(t.modalTime,1500)})})}}),j(I(I(t)),"statusUpdate",function(e,a){t.setState({cardLoader:!0,showHideClassName:"modal display-none container"});var i=window.API_URL+"/changeBillStatus/".concat(t.props.match.params.id,"/").concat(e,"/").concat(t.props.match.params.bill);B.a.put(i,{status:a}).then(function(e){e.data.data;t.setState({message:e.data.message,cardLoader:!1},function(){return t.getBill(t.props.match.params.id,t.props.match.params.month,t.props.match.params.year,t.props.match.params.bill,t.props.match.params.date)})}).catch(function(e){var a=Object(S.a)(e);t.setState({message:a,isOpenClassName:"modal display-block container",type:"failure",isLoading:!1,cardLoader:!1},function(){return setTimeout(t.modalTime,1500)})})}),j(I(I(t)),"billTransfer",function(e,a,i){var o;event.preventDefault();var r=t.state.getBill[i].comment;if(""===r)t.setState({commentAlert:!0,billId:e});else{o="purchase"===t.props.match.params.bill?{from:"purchase",to:a,comment:r}:"sale"===t.props.match.params.bill?{from:"sale",to:a,comment:r}:{from:"other",to:a,comment:r};var s=window.API_URL+"/transferBill/".concat(t.props.match.params.id,"/").concat(e);B.a.put(s,o).then(function(e){e.data.data;t.setState({message:e.data.message,isLoading:!0,showHideClassName:"modal display-none container"},function(){return t.getBill(t.props.match.params.id,t.props.match.params.month,t.props.match.params.year,t.props.match.params.bill,t.props.match.params.date)})}).catch(function(e){var a=Object(S.a)(e);t.setState({message:a,isOpenClassName:"modal display-block container",type:"failure",isLoading:!1,cardLoader:!1},function(){return setTimeout(t.modalTime,1500)})})}}),j(I(I(t)),"modalTime",function(){t.setState({isOpenClassName:"modal display-none container"})}),j(I(I(t)),"modalCloseHandler",function(){t.setState({isResetModal:!1,showHideClassName:"modal display-none container",fullViewModalClassName:"modal display-none container",deleteId:"",deleteName:"",isOpenClassName:"modal display-none container",cardLoader:!1})}),j(I(I(t)),"statusBoxHandler",function(e,a){var i=e.target.id,o=e.target.checked;t.setState({statusBoxIndex:i,status:o,billId:a,showHideClassName:"modal display-block container"})}),j(I(I(t)),"fullviewModal",function(e){t.setState({imgName:e,fullViewModalClassName:"modal display-block container"})}),j(I(I(t)),"nameChangeHandler",function(e){var a=e.target.id,i=JSON.parse(JSON.stringify(t.state.getBill));i[a].comment=e.target.value,t.setState({getBill:i,commentAlert:!1})}),t}var i,r,s;return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&M(e,a)}(a,o.a.Component),i=a,(r=[{key:"componentWillMount",value:function(){this.getBill(this.props.match.params.id,this.props.match.params.month,this.props.match.params.year,this.props.match.params.bill,this.props.match.params.date)}},{key:"render",value:function(){var e=this;return x("div",{},void 0,R,x(C.a,{showHideClassName:this.state.isOpenClassName,modalType:this.state.type,message:this.state.message,onClose:this.modalCloseHandler}),this.state.imgName?x("div",{className:this.state.fullViewModalClassName},void 0,x("div",{className:"modal-dialog modal-full-view-r modal-dialog-centered",role:"document"},void 0,x("div",{className:"modal-content modal-full-view-height-r"},void 0,x("div",{className:"modal-header background-color-r"},void 0,D,x("button",{type:"button",className:"close",onClick:this.modalCloseHandler,"aria-label":"Close"},void 0,H)),x("div",{className:"modal-body,input-group input-group-lg"},void 0,x("div",{className:"full-view-form-padding-r"},void 0,x("img",{className:"card-full-view-parent-img-r",src:window.API_URL+"/bills/"+this.state.imgName})))))):null,this.state.isLoading?V:x("div",{className:"container outer-box-r"},void 0,x("div",{},void 0,x("ul",{className:"breadCrumb-bg-r"},void 0,x("li",{onClick:function(){return e.props.history.push("/manageUser")},className:"breadCrumb-li-child-1-r"},void 0,P,U),x("li",{onClick:function(){return e.props.history.push("/userDetails/".concat(e.props.match.params.id,"/").concat(e.props.match.params.month,"/").concat(e.props.match.params.year))},className:"breadCrumb-li-child-2-r"},void 0,_,Y),x("li",{className:"breadCrumb-li-child-r"},void 0,z,x("span",{className:"breadcrumb-text-r"},void 0,"purchase"===this.props.match.params.bill?"Purchase Bills":"sale"===this.props.match.params.bill?"Sale Bills":"Other")))),"purchase"===this.props.match.params.bill?x(o.a.Fragment,{},void 0,q,x("div",{className:"text-align-center-r"},void 0,x("ul",{},void 0,this.state.getBill&&this.state.getBill.map(function(a,i){return x("li",{style:{display:"inline-block"}},i,x("div",{className:"card-base-r"},void 0,x("div",{className:"dropdown"},void 0,F,x("div",{className:"dropdown-content"},void 0,x("button",{disabled:a.completeStatus,onClick:function(){return e.billTransfer(a._id,"sale",i)},className:"background-hover-r"},void 0,"Transfer to sale"),x("button",{disabled:a.completeStatus,onClick:function(){return e.billTransfer(a._id,"other",i)},className:"background-hover-r"},void 0,"Transfer to other"),x("button",{disabled:a.completeStatus,onClick:function(){return e.billTransfer(a._id,"faulty",i)},className:"background-hover-r"},void 0,"Return"))),x("form",{},void 0,x("div",{style:{height:"130px"}},void 0,e.state.billId==a._id&&e.state.cardLoader?Q:x(o.a.Fragment,{},void 0,x("img",{onClick:function(){return e.fullviewModal(a.img)},className:a.completeStatus?"card-parent-img-r opacity-r":"card-parent-img-r",src:window.API_URL+"/bills/"+a.img}),a.completeStatus?x("img",{onClick:e.fullviewModal,className:"card-child-img-r",src:t("84afb4f5a3c31e88c0b9")}):null,x("input",{className:"card-status-button-r",onChange:function(){return e.statusBoxHandler(event,a._id)},checked:a.completeStatus,id:a._id,type:"checkbox"}))),x("p",{className:"card-selected-heading-r"},void 0,a.originalName),x("p",{className:"card-selected-sub-heading-r"},void 0,"Created At: ",Object(k.a)(a.timestamp).format("DD MMM YYYY")),x("textarea",{className:"form-control card-comment-box-r card-text-r",placeholder:"comments",value:a.comment,onChange:e.nameChangeHandler,id:i,rows:"2",required:!0}),e.state.billId==a._id&&e.state.commentAlert?Z:null)))})))):"sale"===this.props.match.params.bill?x(o.a.Fragment,{},void 0,E,x("div",{className:"text-align-center-r"},void 0,x("ul",{},void 0,this.state.getBill&&this.state.getBill.map(function(a,i){return x("li",{style:{display:"inline-block"}},i,x("div",{className:"card-base-r"},void 0,x("div",{className:"dropdown"},void 0,J,x("div",{className:"dropdown-content"},void 0,x("button",{disabled:a.completeStatus,onClick:function(){return e.billTransfer(a._id,"purchase",i)},className:"background-hover-r"},void 0,"Transfer to purchase"),x("button",{disabled:a.completeStatus,onClick:function(){return e.billTransfer(a._id,"other",i)},className:"background-hover-r"},void 0,"Transfer to other"),x("button",{disabled:a.completeStatus,onClick:function(){return e.billTransfer(a._id,"faulty",i)},className:"background-hover-r"},void 0,"Return"))),x("form",{},void 0,x("div",{style:{height:"130px"}},void 0,e.state.billId==a._id&&e.state.cardLoader?G:x(o.a.Fragment,{},void 0,x("img",{onClick:function(){return e.fullviewModal(a.img)},className:a.completeStatus?"card-parent-img-r opacity-r":"card-parent-img-r",src:window.API_URL+"/bills/"+a.img}),a.completeStatus?x("img",{onClick:e.fullviewModal,className:"card-child-img-r",src:t("84afb4f5a3c31e88c0b9")}):null,x("input",{className:"card-status-button-r",onChange:function(){return e.statusBoxHandler(event,a._id)},checked:a.completeStatus,id:a._id,type:"checkbox"}))),x("p",{className:"card-selected-heading-r"},void 0,a.originalName),x("p",{className:"card-selected-sub-heading-r"},void 0,"Created At: ",Object(k.a)(a.timestamp).format("DD MMM YYYY")),x("textarea",{className:"form-control card-comment-box-r card-text-r",placeholder:"comments",value:a.comment,onChange:e.nameChangeHandler,id:i,rows:"2",required:!0}),e.state.billId==a._id&&e.state.commentAlert?K:null)))})))):x(o.a.Fragment,{},void 0,W,x("div",{className:"text-align-center-r"},void 0,x("ul",{},void 0,this.state.getBill&&this.state.getBill.map(function(a,i){return x("li",{style:{display:"inline-block"}},i,x("div",{className:"card-base-r"},void 0,x("div",{className:"dropdown"},void 0,X,x("div",{className:"dropdown-content"},void 0,x("button",{disabled:a.completeStatus,onClick:function(){return e.billTransfer(a._id,"purchase",i)},className:"background-hover-r"},void 0,"Transfer to purchase"),x("button",{disabled:a.completeStatus,onClick:function(){return e.billTransfer(a._id,"sale",i)},className:"background-hover-r"},void 0,"Transfer to sale"),x("button",{disabled:a.completeStatus,onClick:function(){return e.billTransfer(a._id,"faulty",i)},className:"background-hover-r"},void 0,"Return"))),x("form",{},void 0,x("div",{style:{height:"130px"}},void 0,e.state.billId==a._id&&e.state.cardLoader?$:x(o.a.Fragment,{},void 0,x("img",{onClick:function(){return e.fullviewModal(a.img)},className:a.completeStatus?"card-parent-img-r opacity-r":"card-parent-img-r",src:window.API_URL+"/bills/"+a.img}),a.completeStatus?x("img",{onClick:e.fullviewModal,className:"card-child-img-r",src:t("84afb4f5a3c31e88c0b9")}):null,x("input",{className:"card-status-button-r",onChange:function(){return e.statusBoxHandler(event,a._id)},checked:a.completeStatus,id:a._id,type:"checkbox"}))),x("p",{className:"card-selected-heading-r"},void 0,a.originalName),x("p",{className:"card-selected-sub-heading-r"},void 0,"Created At: ",Object(k.a)(a.timestamp).format("DD MMM YYYY")),x("textarea",{className:"form-control card-comment-box-r card-text-r",placeholder:"comments",value:a.comment,onChange:e.nameChangeHandler,id:i,rows:"2",required:!0}),e.state.billId==a._id&&e.state.commentAlert?ee:null)))}))))),x(w.a,{showHideClassName:this.state.showHideClassName,onClose:this.modalCloseHandler,onConfirm:function(){return e.statusUpdate(e.state.statusBoxIndex,e.state.status)},confirmMessage:"Are you sure want to update ?"}))}}])&&T(i.prototype,r),s&&T(i,s),a}(),te=Object(l.b)({userBillDetails:h()});var ie=Object(r.connect)(te,function(e){return{dispatch:e}}),oe=Object(m.a)({key:"userBillDetails",reducer:b}),re=Object(d.a)({key:"userBillDetails",saga:N});a.default=Object(c.compose)(oe,re,ie)(ae)},"84afb4f5a3c31e88c0b9":function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhAgMAAABD3TrpAAAACVBMVEVHcEx6wENzvTWNCfrjAAAAAXRSTlMAQObYZgAABTVJREFUaN7tWjty5DYQBVimqrA5Ax0ArtIt6BtMMM3iKmKgqbL3FDzCJsg3sALrlA6GnAHQrx8oJXYwiCQOHtGf102gG849xmM8xmM8xn85Bjl9BeZ/JBF5/cec8KfxvHuX6/gx4gnfzsaKSfbxOuIJGOnfRTg0CkZeJB9/6QlPIlDPIOX4BV49jVzJ61CznkRmtOSL1OOtmpFEVuQQBZRprbWBS0aNrBa9iPxkS75+fHwkpOmTyISWfN4mvzvnnHsFi15EFoS8LjPt4jxt/5dCjaYvp5+5bCK5YtGwz5U+fyvx59zbJ9M+38HLxrtQk0m8ijPXt+1GEcFkh5R5ycTthPBH0bRLd2Rkwr5BHy83p71ZzAPx08luz2AI6wv7l29cqbC9GK982uZ7y7KDiIjDnKTCutxvlY1mKqxP1itdt+zCzpZPvhupe90nnCw1F/bJsIR1Ygp712a2kBNbMlgydZazcoat1ivpFzNZ3o5GgmnLZL4yMz2UybfUTJYBu4aanUUgm80tn9gEafnEDZYwLTVd4qS11fQNbz6baraQdjgEbiBvh0PDQL2ppoucByTqG/mARH2iDNrV7D5t2l3NAB09HVAzrsgp54aao3MujQg5czVldK4DVhyoafvtgxOA57g7hy1foA3xQJ2yGygBlbg7t09Vh3IcdUq38cCDWZ4iw073pNfsqDvjnhYBeT11Z9qRUSMphbpboERN7sCI0N/yQa+n9Qw53PIBWGBgMXbfsvSaaaXqvxkGcl6bo0T+bhjIddoFQ+HiMgrDPWECZMopVMVSzBKmlrZAxhIp2YdV0y9/4stY8qlATsrwZ+s70eWpVgVGoXn1iQ35F2Wopc2RvtqrxnznoYibB1motuSpQq4m8lKe4EoRVLryd+tt588RGggil/JgPxbC5zG1WkG2HVWX4giTTxwNpN+Qc86gOXfR2FhzQtxzLtQBmsX6frRfMwMtFHmqSh9L9u9KkWNVFZjhsYkh3V5DyIQnOTJHxgKZSiqqHNnXrt+V86VpIXItiLqb6EvIGZiWIwsuVAZqIIdM0apm0kDuJjpp03Lb3rhw3v48M2QZAumG7OvzcwMZbyYKUm0kA0feuRAB0oyVggtDvXtn8VlwIdUFBoWsFN+5oKshLeQeLn9IfT5keUiVRBfT8VW+VQXK1SRbleOLvFA7Ref4etuX1TYn9ylkrijZw4A9h78D5xo5HkWeyO4H7VYu2Clg6520Psi0YG9SPwnYnXA/NBnFaq4V0DxBd4J9n/JThE45ggz3NFZ669zaU3voFLCnVjnNQyKAfbx+BJ3SQ+QZtgJGTlt0RgrAKeiMpM9lHULic9mEmgGza5DPOX0mjdCd04Ezb9DuhGdefc722p09Omvqs73XToFnTVBP0EQYUOkgwBOXKMGWI3WTgNw5HqnVaHbAogOqDyUd13KsJhWPEAHWwYLeTZyP1d56neDnY/U+X2lulOdQjVGn6dPBumZUpl0PIr+pUsbR+q1vsPFgzdie0KpTWwZq18Y7s2baqsfbb271AIg2jb4D+Zn3Ouyqequ/EkhRmfd0IjM97SMl9iPrXTE1eb+M99JYj06o4b0tbidtZ2ORnoVHEut/8hYB6bm2Woakz9sIXtJbbiQM0s/mnVGjh369DDJSZLtvz8WldwWouPR+gjmadyK4uPQeBuUuvfthjvZ9E8pAeseFMrB1mYc5ht3lMcfLF5c8cmep4VN2T6pBJHI3y5a3eR/sCPRzwAP33sho3bXju5iTe4zHeIzHeIz/w/gXjb4njNCyoFIAAAAASUVORK5CYII="}}]);