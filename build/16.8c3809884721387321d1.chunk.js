(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"52c04eee55174304c188":function(e,t,a){"use strict";a.r(t);var r=a("8af190b70a6bc55c6f1b"),s=a.n(r),o=(a("8a2d1b95e05b6a321e74"),a("d7dd51e1bf6bfc2c9c3d")),n=a("0d7f0986bcd2f33d8a2a"),c=a("ab039aecd4a1d4fedc0e"),i=a("a28fc3c963a1d4d1a2e5"),d=a("ab4cb61bcb2dc161defb"),l=a("adc20f99e57c573c589c"),p=a("d95b0cf107403b178365"),m=a("54f683fcda7806277002"),u="app/ManageAccountantReports/DEFAULT_ACTION",f=Object(m.fromJS)({});var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;switch((arguments.length>1?arguments[1]:void 0).type){case u:default:return e}},b=function(e){return e.get("manageAccountantReports",f)},g=function(){return Object(i.a)(b,function(e){return e.toJS()})},v=regeneratorRuntime.mark(y);function y(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},v,this)}Object(c.defineMessages)({header:{id:"".concat("app.containers.ManageAccountantReports",".header"),defaultMessage:"This is the ManageAccountantReports container!"}}),a("868115dbc0cccbfa5202");var N,O=a("4cad7676f6ad23a52c95"),R=a("bd183afcc37eabd79225"),C=a.n(R),k=a("b13fad99b312e52ff2bb"),S=a("7e06b3d41be6bf0b9866");function j(e){return(j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t,a,r){N||(N="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var s=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&s)for(var n in s)void 0===t[n]&&(t[n]=s[n]);else t||(t=s||{});if(1===o)t.children=r;else if(o>1){for(var c=new Array(o),i=0;i<o;i++)c[i]=arguments[i+3];t.children=c}return{$$typeof:N,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function M(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"ManageAccountantReports",function(){return B});var D=w(n.Helmet,{},void 0,w("title",{},void 0,"ManageAccountantReports"),w("meta",{name:"description",content:"Description of ManageAccountantReports"})),L=w("div",{className:"lds-facebook"},void 0,w("div",{}),w("div",{}),w("div",{}),w("span",{className:"loading-text-r"},void 0,"Loading... ")),Y=w("i",{className:"fa fa-home","aria-hidden":"true"}),F=w("span",{className:"breadcrumb-text-r"},void 0,"Home"),P=w("i",{className:"fa fa-files-o","aria-hidden":"true"}),U=w("span",{className:"breadcrumb-text-r"},void 0,"User Details"),H=w("i",{className:"fa fa-files-o","aria-hidden":"true"}),E=w("p",{className:"static-title-r"},void 0,"GST Reports"),I=w("p",{className:"static-title-r"},void 0,"Daily Reports"),J=w("p",{className:"static-title-r"},void 0,"Faulty Bills"),B=function(e){function t(){var e,a,r,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return r=this,s=(e=T(t)).call.apply(e,[this].concat(n)),a=!s||"object"!==j(s)&&"function"!==typeof s?A(r):s,_(A(A(a)),"state",{isOpenClassName:"modal display-none container",userReports:[],isLoading:!0,faultyBills:[]}),_(A(A(a)),"getUserReports",function(e,t,r,s,o){"daily"===s?C.a.get("https://gst-service-uat.herokuapp.com/dailyReports/".concat(e,"/").concat(t,"/").concat(r,"/").concat(o)).then(function(e){var t=e.data.data;a.setState({userReports:t,isFetching:!1,isLoading:!1})}).catch(function(e){var t=Object(S.a)(e);a.setState({message:t,isOpenClassName:"modal display-block container",type:"failure",isLoading:!1},function(){return setTimeout(a.modalTime,1500)})}):C.a.get("https://gst-service-uat.herokuapp.com/gstReports/".concat(e,"/").concat(t,"/").concat(r)).then(function(e){var t=e.data.data;a.setState({userReports:t,isFetching:!1,isLoading:!1})}).catch(function(e){var t=Object(S.a)(e);a.setState({message:t,isOpenClassName:"modal display-block container",type:"failure",isLoading:!1},function(){return setTimeout(a.modalTime,1500)})})}),_(A(A(a)),"getReports",function(e,t,r){C.a.get("https://gst-service-uat.herokuapp.com/report/".concat(e,"/").concat(t,"/").concat(r)).then(function(e){var t=e.data.data;a.setState({getReports:t,isLoading:!1})}).catch(function(e){var t=Object(S.a)(e);a.setState({message:t,isOpenClassName:"modal display-block container",type:"failure",isLoading:!1},function(){return setTimeout(a.modalTime,1500)})})}),_(A(A(a)),"resendReport",function(e){var t=e.target.id,r=a.props.match.params.id,s=a.props.match.params.report;C.a.put("https://gst-service-uat.herokuapp.com/resendReport/".concat(r,"/").concat(t,"/").concat(s)).then(function(e){e.data.data;a.setState({message:e.data.message,isLoading:!1,type:"success",isOpenClassName:"modal display-block container"},function(){return setTimeout(a.modalTime,1500)})}).catch(function(e){var t=Object(S.a)(e);a.setState({message:t,isOpenClassName:"modal display-block container",type:"failure",isLoading:!1},function(){return setTimeout(a.modalTime,1500)})})}),_(A(A(a)),"modalCloseHandler",function(){a.setState({isResetModal:!1,isOpenClassName:"modal display-none container",deleteId:"",deleteName:""})}),_(A(A(a)),"modalTime",function(){a.setState({isOpenClassName:"modal display-none container",isFetching:!1})}),a}var a,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,s.a.Component),a=t,(r=[{key:"componentWillMount",value:function(){var e=this.props.match.params.id,t=this.props.match.params.report;this.getReports(localStorage.getItem("userId"),this.props.match.params.month,this.props.match.params.year),"gst"===t?this.getUserReports(e,this.props.match.params.month,this.props.match.params.year,t):this.getUserReports(e,this.props.match.params.month,this.props.match.params.year,t,this.props.match.params.date)}},{key:"render",value:function(){var e=this;return w("div",{},void 0,D,w(k.a,{showHideClassName:this.state.isOpenClassName,modalType:this.state.type,message:this.state.message,onClose:this.modalCloseHandler}),this.state.isLoading?L:w("div",{className:"container outer-box-r"},void 0,w("div",{},void 0,w("ul",{className:"breadCrumb-bg-r"},void 0,w("li",{className:"breadCrumb-li-child-1-r",onClick:function(){return e.props.history.push("/manageUser")}},void 0,Y,F),w("li",{className:"breadCrumb-li-child-2-r",onClick:function(){return e.props.history.push("/userDetails/".concat(e.props.match.params.id,"/").concat(e.props.match.params.month,"/").concat(e.props.match.params.year))}},void 0,P,U),w("li",{className:"breadCrumb-li-child-r"},void 0,H,w("span",{className:"breadcrumb-text-r"},void 0,"gst"===this.props.match.params.report?"GST Reports":"Daily Reports")))),"gst"===this.props.match.params.report?w(s.a.Fragment,{},void 0,E,w("div",{className:"text-align-center-r"},void 0,this.state.userReports.map(function(t,a){return w(s.a.Fragment,{},a,w("div",{className:"card-report-r"},void 0,w("span",{className:"resend-report-icon-r"},void 0,w("button",{id:t._id,onClick:e.resendReport,className:"fa fa-share"})),w("img",{className:"selected-report-image-r",src:"https://gst-service-uat.herokuapp.com/gst-reports/"+t.img}),w("p",{className:"card-selected-heading-r"},void 0,t.originalName),w("p",{className:"card-selected-sub-heading-r"},void 0,"Created At : ",Object(O.a)(t.timestamp).format("DD MMM YYYY")),w("p",{className:"card-text-r"},void 0,t.comment)))}))):w(s.a.Fragment,{},void 0,w("div",{className:"col-xs-12 col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},void 0,I,w("div",{className:"report-card-scroll"},void 0,w("div",{className:"text-align-center-r"},void 0,this.state.userReports.map(function(t,a){return w(s.a.Fragment,{},a,w("div",{className:"card-report-r"},void 0,w("span",{className:"resend-report-icon-r"},void 0,w("button",{id:t._id,onClick:e.resendReport,className:"fa fa-share"})),w("img",{className:"selected-report-image-r",src:"https://gst-service-uat.herokuapp.com/daily-reports/"+t.img}),w("p",{className:"card-selected-heading-r"},void 0,t.originalName),w("p",{className:"card-selected-sub-heading-r"},void 0,"Created At : ",Object(O.a)(t.timestamp).format("DD MMM YYYY")),w("p",{className:"card-text-r"},void 0,t.comment)))})))),w("div",{className:"col-xs-12 col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},void 0,J,w("div",{className:"report-card-scroll"},void 0,w("div",{className:"text-align-center-r"},void 0,this.state.faultyBills.map(function(t,a){return w(s.a.Fragment,{},a,w("div",{className:"card-report-r"},void 0,w("span",{className:"resend-report-icon-r"},void 0,w("button",{id:t._id,onClick:e.resendReport,className:"fa fa-share"})),w("img",{className:"selected-report-image-r",src:"https://gst-service-uat.herokuapp.com/bills/"+t.img}),w("p",{className:"card-selected-heading-r"},void 0,t.originalName),w("p",{className:"card-selected-sub-heading-r"},void 0,"Created At : ",Object(O.a)(t.timestamp).format("DD MMM YYYY")),w("p",{className:"card-text-r"},void 0,t.comment)))})))))))}}])&&M(a.prototype,r),o&&M(a,o),t}(),G=Object(i.b)({manageAccountantReports:g()});var $=Object(o.connect)(G,function(e){return{dispatch:e}}),W=Object(p.a)({key:"manageAccountantReports",reducer:h}),q=Object(l.a)({key:"manageAccountantReports",saga:y});t.default=Object(d.compose)(W,q,$)(B)}}]);